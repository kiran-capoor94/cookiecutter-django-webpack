{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap f4236009c12d5e24ddbe","webpack:///./packages/mdc-base/foundation.js","webpack:///./packages/mdc-base/component.js","webpack:///./packages/mdc-menu-surface/foundation.js","webpack:///./packages/mdc-menu-surface/constants.js","webpack:///./packages/mdc-menu-surface/adapter.js","webpack:///./packages/mdc-menu-surface/index.js","webpack:///./packages/mdc-menu-surface/util.js"],"names":["MDCFoundation","adapter","adapter_","MDCComponent","root","foundation","undefined","root_","args","initialize","foundation_","getDefaultFoundation","init","initialSyncWithDOM","Error","destroy","evtType","handler","addEventListener","removeEventListener","evtData","shouldBubble","evt","CustomEvent","detail","bubbles","document","createEvent","initCustomEvent","dispatchEvent","AnchorMargin","AutoLayoutMeasurements","MDCMenuSurfaceFoundation","addClass","removeClass","hasClass","hasAnchor","notifyClose","notifyOpen","isElementInContainer","isRtl","setTransformOrigin","isFocused","saveFocus","restoreFocus","isFirstElementFocused","isLastElementFocused","focusFirstElement","focusLastElement","getInnerDimensions","getAnchorDimensions","getWindowDimensions","getBodyDimensions","getWindowScroll","setPosition","setMaxHeight","defaultAdapter","isOpen_","openAnimationEndTimerId_","closeAnimationEndTimerId_","animationRequestId_","dimensions_","anchorCorner_","Corner","TOP_START","anchorMargin_","top","right","bottom","left","measures_","quickOpen_","hoistedElement_","isFixedPosition_","position_","x","y","cssClasses","ROOT","OPEN","clearTimeout","cancelAnimationFrame","corner","margin","isHoisted","isFixedPosition","typeCheckisFinite_","quickOpen","el","target","close","keyCode","key","shiftKey","isEscape","isTab","preventDefault","anchorRect","viewport","bodyDimensions","windowScroll","height","width","viewportDistance","anchorHeight","anchorWidth","surfaceHeight","surfaceWidth","TOP_LEFT","isBottomAligned","Boolean","CornerBit","BOTTOM","availableTop","availableBottom","topOverflow","bottomOverflow","isFlipRtl","FLIP_RTL","avoidHorizontalOverlap","RIGHT","isAlignedRight","availableLeft","availableRight","leftOverflow","rightOverflow","isRightAligned","rightOffset","avoidVerticalOverlap","maxHeight","MARGIN_TO_EDGE","numbers","getAutoLayoutMeasurements_","getOriginCorner_","maxMenuSurfaceHeight","getMenuSurfaceMaxHeight_","verticalAlignment","horizontalAlignment","horizontalOffset","getHorizontalOriginOffset_","verticalOffset","getVerticalOriginOffset_","position","ANCHOR_TO_MENU_SURFACE_WIDTH_RATIO","adjustPositionForHoistedElement_","prop","hasOwnProperty","parseInt","ANIMATING_OPEN","requestAnimationFrame","autoPosition_","setTimeout","TRANSITION_OPEN_DURATION","ANIMATING_CLOSED","TRANSITION_CLOSE_DURATION","maybeRestoreFocus_","activeElement","num","isFinite","ANCHOR","FIXED","strings","CLOSED_EVENT","OPENED_EVENT","FOCUSABLE_ELEMENTS","CENTER","TOP_RIGHT","BOTTOM_LEFT","BOTTOM_RIGHT","TOP_END","BOTTOM_START","BOTTOM_END","MDCMenuSurfaceAdapter","className","origin","MDCMenuSurface","previousFocus_","anchorElement","firstFocusableElement_","lastFocusableElement_","handleKeydown_","handleBodyClick_","registerBodyClickListener_","deregisterBodyClickListener_","parentElement","classList","contains","setFixedPosition","handleKeydown","handleBodyClick","body","appendChild","removeChild","setIsHoisted","element","isFixed","add","remove","setAbsolutePosition","setAnchorCorner","setAnchorMargin","emit","getComputedStyle","getPropertyValue","style","window","getFocusAdapterMethods_","getDimensionAdapterMethods_","focus","offsetWidth","offsetHeight","getBoundingClientRect","innerWidth","innerHeight","clientWidth","clientHeight","pageXOffset","pageYOffset","isOpen","value","focusableElements","querySelectorAll","length","open","setQuickOpen","storedTransformPropertyName_","getTransformPropertyName","globalObj","forceRefresh","createElement","transformPropertyName"],"mappings":";;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;;;;;;AC7DA;;;;;;;;;;;;;;;;;;;;;;;AAuBA;;;IAGMA,a;;;;AACJ;wBACwB;AACtB;AACA;AACA,aAAO,EAAP;AACD;;AAED;;;;wBACqB;AACnB;AACA;AACA,aAAO,EAAP;AACD;;AAED;;;;wBACqB;AACnB;AACA;AACA,aAAO,EAAP;AACD;;AAED;;;;wBAC4B;AAC1B;AACA;AACA;AACA,aAAO,EAAP;AACD;;AAED;;;;;;AAGA,2BAA0B;AAAA,QAAdC,OAAc,uEAAJ,EAAI;;AAAA;;AACxB;AACA,SAAKC,QAAL,GAAgBD,OAAhB;AACD;;;;2BAEM;AACL;AACD;;;8BAES;AACR;AACD;;;;;;AAGH,yDAAeD,aAAf,E;;;;;;;;;;;;;ACzEA;;;;;;;;;;;;;;;;;;;;;;;AAuBA;;AAEA;;;;IAGMG,Y;;;;AACJ;;;;6BAIgBC,I,EAAM;AACpB;AACA;AACA;AACA;AACA,aAAO,IAAID,YAAJ,CAAiBC,IAAjB,EAAuB,IAAI,4DAAJ,EAAvB,CAAP;AACD;;AAED;;;;;;;;AAKA,wBAAYA,IAAZ,EAAmD;AAAA,QAAjCC,UAAiC,uEAApBC,SAAoB;;AAAA;;AACjD;AACA,SAAKC,KAAL,GAAaH,IAAb;;AAFiD,sCAANI,IAAM;AAANA,UAAM;AAAA;;AAGjD,SAAKC,UAAL,aAAmBD,IAAnB;AACA;AACA;AACA;AACA,SAAKE,WAAL,GAAmBL,eAAeC,SAAf,GAA2B,KAAKK,oBAAL,EAA3B,GAAyDN,UAA5E;AACA,SAAKK,WAAL,CAAiBE,IAAjB;AACA,SAAKC,kBAAL;AACD;;;;iCAEU,aAAe,CAIzB;AAHC;AACA;AACA;;;AAGF;;;;;;2CAGuB;AACrB;AACA;AACA,YAAM,IAAIC,KAAJ,CAAU,mFACd,kBADI,CAAN;AAED;;;yCAEoB;AACnB;AACA;AACA;AACA;AACD;;;8BAES;AACR;AACA;AACA,WAAKJ,WAAL,CAAiBK,OAAjB;AACD;;AAED;;;;;;;;;2BAMOC,O,EAASC,O,EAAS;AACvB,WAAKV,KAAL,CAAWW,gBAAX,CAA4BF,OAA5B,EAAqCC,OAArC;AACD;;AAED;;;;;;;;;6BAMSD,O,EAASC,O,EAAS;AACzB,WAAKV,KAAL,CAAWY,mBAAX,CAA+BH,OAA/B,EAAwCC,OAAxC;AACD;;AAED;;;;;;;;;;yBAOKD,O,EAASI,O,EAA+B;AAAA,UAAtBC,YAAsB,uEAAP,KAAO;;AAC3C,UAAIC,YAAJ;AACA,UAAI,OAAOC,WAAP,KAAuB,UAA3B,EAAuC;AACrCD,cAAM,IAAIC,WAAJ,CAAgBP,OAAhB,EAAyB;AAC7BQ,kBAAQJ,OADqB;AAE7BK,mBAASJ;AAFoB,SAAzB,CAAN;AAID,OALD,MAKO;AACLC,cAAMI,SAASC,WAAT,CAAqB,aAArB,CAAN;AACAL,YAAIM,eAAJ,CAAoBZ,OAApB,EAA6BK,YAA7B,EAA2C,KAA3C,EAAkDD,OAAlD;AACD;;AAED,WAAKb,KAAL,CAAWsB,aAAX,CAAyBP,GAAzB;AACD;;;;;;AAGH,yDAAenB,YAAf,E;;;;;;;;;;;;;;;;;;;;;;;;;AClIA;;;;;;;;;;;;;;;;;;;;;;;AAuBA;;;;;;;;AAQA,IAAI2B,qBAAJ;;AAEA;AACA;;;;;;;;;;;;AAYA,IAAIC,+BAAJ;AACA;;AAEA;AACA;AACA;;AAEA;;;;IAGMC,wB;;;;;;AACJ;wBACwB;AACtB,aAAO,8DAAP;AACD;;AAED;;;;wBACqB;AACnB,aAAO,2DAAP;AACD;;AAED;;;;wBACqB;AACnB,aAAO,2DAAP;AACD;;AAED;;;;wBACoB;AAClB,aAAO,0DAAP;AACD;;AAED;;;;;;;;wBAK4B;AAC1B,aAAO,sCAAuC;AAC5CC,oBAAU,oBAAM,CAAE,CAD0B;AAE5CC,uBAAa,uBAAM,CAAE,CAFuB;AAG5CC,oBAAU;AAAA,mBAAM,KAAN;AAAA,WAHkC;AAI5CC,qBAAW;AAAA,mBAAM,KAAN;AAAA,WAJiC;AAK5CC,uBAAa,uBAAM,CAAE,CALuB;AAM5CC,sBAAY,sBAAM,CAAE,CANwB;AAO5CC,gCAAsB;AAAA,mBAAM,KAAN;AAAA,WAPsB;AAQ5CC,iBAAO;AAAA,mBAAM,KAAN;AAAA,WARqC;AAS5CC,8BAAoB,8BAAM,CAAE,CATgB;AAU5CC,qBAAW;AAAA,mBAAM,KAAN;AAAA,WAViC;AAW5CC,qBAAW,qBAAM,CAAE,CAXyB;AAY5CC,wBAAc,wBAAM,CAAE,CAZsB;AAa5CC,iCAAuB,iCAAM,CAAE,CAba;AAc5CC,gCAAsB,gCAAM,CAAE,CAdc;AAe5CC,6BAAmB,6BAAM,CAAE,CAfiB;AAgB5CC,4BAAkB,4BAAM,CAAE,CAhBkB;AAiB5CC,8BAAoB;AAAA,mBAAO,EAAP;AAAA,WAjBwB;AAkB5CC,+BAAqB;AAAA,mBAAO,EAAP;AAAA,WAlBuB;AAmB5CC,+BAAqB;AAAA,mBAAO,EAAP;AAAA,WAnBuB;AAoB5CC,6BAAmB;AAAA,mBAAO,EAAP;AAAA,WApByB;AAqB5CC,2BAAiB;AAAA,mBAAO,EAAP;AAAA,WArB2B;AAsB5CC,uBAAa,uBAAM,CAAE,CAtBuB;AAuB5CC,wBAAc,wBAAM,CAAE;AAvBsB;AAA9C;AAyBD;;AAED;;;;AACA,oCAAYtD,OAAZ,EAAqB;AAAA;;AAGnB;AAHmB,oJACb,SAAc+B,yBAAyBwB,cAAvC,EAAuDvD,OAAvD,CADa;;AAInB,UAAKwD,OAAL,GAAe,KAAf;AACA;AACA,UAAKC,wBAAL,GAAgC,CAAhC;AACA;AACA,UAAKC,yBAAL,GAAiC,CAAjC;AACA;AACA,UAAKC,mBAAL,GAA2B,CAA3B;AACA;AACA,UAAKC,WAAL;AACA;AACA,UAAKC,aAAL,GAAqB,0DAAAC,CAAOC,SAA5B;AACA;AACA,UAAKC,aAAL,GAAqB,EAACC,KAAK,CAAN,EAASC,OAAO,CAAhB,EAAmBC,QAAQ,CAA3B,EAA8BC,MAAM,CAApC,EAArB;AACA;AACA,UAAKC,SAAL,GAAiB,IAAjB;AACA;AACA,UAAKC,UAAL,GAAkB,KAAlB;AACA;AACA,UAAKC,eAAL,GAAuB,KAAvB;AACA;AACA,UAAKC,gBAAL,GAAwB,KAAxB;AACA;AACA,UAAKC,SAAL,GAAiB,EAACC,GAAG,CAAJ,EAAOC,GAAG,CAAV,EAAjB;AA1BmB;AA2BpB;;;;2BAEM;AAAA,kCACgB5C,yBAAyB6C,UADzC;AAAA,UACEC,IADF,yBACEA,IADF;AAAA,UACQC,IADR,yBACQA,IADR;;;AAGL,UAAI,CAAC,KAAK7E,QAAL,CAAciC,QAAd,CAAuB2C,IAAvB,CAAL,EAAmC;AACjC,cAAM,IAAIhE,KAAJ,CAAagE,IAAb,sCAAN;AACD;;AAED,UAAI,KAAK5E,QAAL,CAAciC,QAAd,CAAuB4C,IAAvB,CAAJ,EAAkC;AAChC,aAAKtB,OAAL,GAAe,IAAf;AACD;AACF;;;8BAES;AACRuB,mBAAa,KAAKtB,wBAAlB;AACAsB,mBAAa,KAAKrB,yBAAlB;AACA;AACAsB,2BAAqB,KAAKrB,mBAA1B;AACD;;AAED;;;;;;oCAGgBsB,M,EAAQ;AACtB,WAAKpB,aAAL,GAAqBoB,MAArB;AACD;;AAED;;;;;;oCAGgBC,M,EAAQ;AACtB,WAAKlB,aAAL,CAAmBC,GAAnB,GAAyB,OAAOiB,OAAOjB,GAAd,KAAsB,QAAtB,GAAiCiB,OAAOjB,GAAxC,GAA8C,CAAvE;AACA,WAAKD,aAAL,CAAmBE,KAAnB,GAA2B,OAAOgB,OAAOhB,KAAd,KAAwB,QAAxB,GAAmCgB,OAAOhB,KAA1C,GAAkD,CAA7E;AACA,WAAKF,aAAL,CAAmBG,MAAnB,GAA4B,OAAOe,OAAOf,MAAd,KAAyB,QAAzB,GAAoCe,OAAOf,MAA3C,GAAoD,CAAhF;AACA,WAAKH,aAAL,CAAmBI,IAAnB,GAA0B,OAAOc,OAAOd,IAAd,KAAuB,QAAvB,GAAkCc,OAAOd,IAAzC,GAAgD,CAA1E;AACD;;AAED;;;;;;;iCAIae,S,EAAW;AACtB,WAAKZ,eAAL,GAAuBY,SAAvB;AACD;;AAED;;;;;;;qCAIiBC,e,EAAiB;AAChC,WAAKZ,gBAAL,GAAwBY,eAAxB;AACD;;AAED;;;;;;;;wCAKoBV,C,EAAGC,C,EAAG;AACxB,WAAKF,SAAL,CAAeC,CAAf,GAAmB,KAAKW,kBAAL,CAAwBX,CAAxB,IAA6BA,CAA7B,GAAiC,CAApD;AACA,WAAKD,SAAL,CAAeE,CAAf,GAAmB,KAAKU,kBAAL,CAAwBV,CAAxB,IAA6BA,CAA7B,GAAiC,CAApD;AACD;;AAED;;;;iCACaW,S,EAAW;AACtB,WAAKhB,UAAL,GAAkBgB,SAAlB;AACD;;AAED;;;;;;;oCAIgBjE,G,EAAK;AACnB,UAAMkE,KAAKlE,IAAImE,MAAf;;AAEA,UAAI,KAAKvF,QAAL,CAAcqC,oBAAd,CAAmCiD,EAAnC,CAAJ,EAA4C;AAC1C;AACD;;AAED,WAAKE,KAAL;AACD;;;;;AAED;;;;kCAIcpE,G,EAAK;AAAA,UACVqE,OADU,GACgBrE,GADhB,CACVqE,OADU;AAAA,UACDC,GADC,GACgBtE,GADhB,CACDsE,GADC;AAAA,UACIC,QADJ,GACgBvE,GADhB,CACIuE,QADJ;;;AAGjB,UAAMC,WAAWF,QAAQ,QAAR,IAAoBD,YAAY,EAAjD;AACA,UAAMI,QAAQH,QAAQ,KAAR,IAAiBD,YAAY,CAA3C;;AAEA,UAAIG,QAAJ,EAAc;AACZ,aAAKJ,KAAL;AACD,OAFD,MAEO,IAAIK,KAAJ,EAAW;AAChB,YAAI,KAAK7F,QAAL,CAAc4C,oBAAd,MAAwC,CAAC+C,QAA7C,EAAuD;AACrD,eAAK3F,QAAL,CAAc6C,iBAAd;AACAzB,cAAI0E,cAAJ;AACD,SAHD,MAGO,IAAI,KAAK9F,QAAL,CAAc2C,qBAAd,MAAyCgD,QAA7C,EAAuD;AAC5D,eAAK3F,QAAL,CAAc8C,gBAAd;AACA1B,cAAI0E,cAAJ;AACD;AACF;AACF;;AAED;;;;;;iDAG6B;AAC3B,UAAIC,aAAa,KAAK/F,QAAL,CAAcgD,mBAAd,EAAjB;AACA,UAAMgD,WAAW,KAAKhG,QAAL,CAAciD,mBAAd,EAAjB;AACA,UAAMgD,iBAAiB,KAAKjG,QAAL,CAAckD,iBAAd,EAAvB;AACA,UAAMgD,eAAe,KAAKlG,QAAL,CAAcmD,eAAd,EAArB;;AAEA,UAAI,CAAC4C,UAAL,EAAiB;AACfA,qBAAa,yBAA2B;AACtCtB,aAAG,KAAKD,SAAL,CAAeC,CADoB;AAEtCC,aAAG,KAAKF,SAAL,CAAeE,CAFoB;AAGtCV,eAAK,KAAKQ,SAAL,CAAeE,CAHkB;AAItCR,kBAAQ,KAAKM,SAAL,CAAeE,CAJe;AAKtCP,gBAAM,KAAKK,SAAL,CAAeC,CALiB;AAMtCR,iBAAO,KAAKO,SAAL,CAAeC,CANgB;AAOtC0B,kBAAQ,CAP8B;AAQtCC,iBAAO;AAR+B,SAAxC;AAUD;;AAED,aAAO;AACLJ,0BADK;AAELC,sCAFK;AAGLC,kCAHK;AAILG,0BAAkB;AAChBrC,eAAK+B,WAAW/B,GADA;AAEhBC,iBAAO+B,SAASI,KAAT,GAAiBL,WAAW9B,KAFnB;AAGhBE,gBAAM4B,WAAW5B,IAHD;AAIhBD,kBAAQ8B,SAASG,MAAT,GAAkBJ,WAAW7B;AAJrB,SAJb;AAULoC,sBAAcP,WAAWI,MAVpB;AAWLI,qBAAaR,WAAWK,KAXnB;AAYLI,uBAAe,KAAK7C,WAAL,CAAiBwC,MAZ3B;AAaLM,sBAAc,KAAK9C,WAAL,CAAiByC;AAb1B,OAAP;AAeD;;AAED;;;;;;;;uCAKmB;AACjB;AACA,UAAIpB,SAAS,0DAAAnB,CAAO6C,QAApB;;AAFiB,uBAIkE,KAAKtC,SAJvE;AAAA,UAIViC,gBAJU,cAIVA,gBAJU;AAAA,UAIQC,YAJR,cAIQA,YAJR;AAAA,UAIsBC,WAJtB,cAIsBA,WAJtB;AAAA,UAImCC,aAJnC,cAImCA,aAJnC;AAAA,UAIkDC,YAJlD,cAIkDA,YAJlD;;AAKjB,UAAME,kBAAkBC,QAAQ,KAAKhD,aAAL,GAAqB,6DAAAiD,CAAUC,MAAvC,CAAxB;AACA,UAAMC,eAAeJ,kBAAkBN,iBAAiBrC,GAAjB,GAAuBsC,YAAvB,GAAsC,KAAKvC,aAAL,CAAmBG,MAA3E,GACjBmC,iBAAiBrC,GAAjB,GAAuB,KAAKD,aAAL,CAAmBC,GAD9C;AAEA,UAAMgD,kBAAkBL,kBAAkBN,iBAAiBnC,MAAjB,GAA0B,KAAKH,aAAL,CAAmBG,MAA/D,GACpBmC,iBAAiBnC,MAAjB,GAA0BoC,YAA1B,GAAyC,KAAKvC,aAAL,CAAmBC,GADhE;;AAGA,UAAMiD,cAAcT,gBAAgBO,YAApC;AACA,UAAMG,iBAAiBV,gBAAgBQ,eAAvC;AACA,UAAIE,iBAAiB,CAAjB,IAAsBD,cAAcC,cAAxC,EAAwD;AACtDlC,kBAAU,6DAAA6B,CAAUC,MAApB;AACD;;AAED,UAAMxE,QAAQ,KAAKtC,QAAL,CAAcsC,KAAd,EAAd;AACA,UAAM6E,YAAYP,QAAQ,KAAKhD,aAAL,GAAqB,6DAAAiD,CAAUO,QAAvC,CAAlB;AACA,UAAMC,yBAAyBT,QAAQ,KAAKhD,aAAL,GAAqB,6DAAAiD,CAAUS,KAAvC,CAA/B;AACA,UAAMC,iBAAkBF,0BAA0B,CAAC/E,KAA5B,IACpB,CAAC+E,sBAAD,IAA2BF,SAA3B,IAAwC7E,KAD3C;AAEA,UAAMkF,gBAAgBD,iBAAiBlB,iBAAiBlC,IAAjB,GAAwBoC,WAAxB,GAAsC,KAAKxC,aAAL,CAAmBE,KAA1E,GACpBoC,iBAAiBlC,IAAjB,GAAwB,KAAKJ,aAAL,CAAmBI,IAD7C;AAEA,UAAMsD,iBAAiBF,iBAAiBlB,iBAAiBpC,KAAjB,GAAyB,KAAKF,aAAL,CAAmBE,KAA7D,GACrBoC,iBAAiBpC,KAAjB,GAAyBsC,WAAzB,GAAuC,KAAKxC,aAAL,CAAmBI,IAD5D;;AAGA,UAAMuD,eAAejB,eAAee,aAApC;AACA,UAAMG,gBAAgBlB,eAAegB,cAArC;;AAEA,UAAKC,eAAe,CAAf,IAAoBH,cAApB,IAAsCjF,KAAvC,IACC+E,0BAA0B,CAACE,cAA3B,IAA6CG,eAAe,CAD7D,IAECC,gBAAgB,CAAhB,IAAqBD,eAAeC,aAFzC,EAEyD;AACvD3C,kBAAU,6DAAA6B,CAAUS,KAApB;AACD;;AAED,aAAO,sBAAuBtC;AAA9B;AACD;;AAED;;;;;;;;+CAK2BA,M,EAAQ;AAAA,UAC1BuB,WAD0B,GACX,KAAKnC,SADM,CAC1BmC,WAD0B;AAEjC;;AACA,UAAMqB,iBAAiBhB,QAAQ5B,SAAS,6DAAA6B,CAAUS,KAA3B,CAAvB;AACA,UAAMD,yBAAyBT,QAAQ,KAAKhD,aAAL,GAAqB,6DAAAiD,CAAUS,KAAvC,CAA/B;;AAEA,UAAIM,cAAJ,EAAoB;AAClB,YAAMC,cAAcR,yBAAyBd,cAAc,KAAKxC,aAAL,CAAmBI,IAA1D,GAAiE,KAAKJ,aAAL,CAAmBE,KAAxG;;AAEA;AACA;AACA;AACA,YAAI,KAAKK,eAAL,IAAwB,KAAKC,gBAAjC,EAAmD;AACjD,iBAAOsD,eAAe,KAAKzD,SAAL,CAAe4B,QAAf,CAAwBI,KAAxB,GAAgC,KAAKhC,SAAL,CAAe6B,cAAf,CAA8BG,KAA7E,CAAP;AACD;;AAED,eAAOyB,WAAP;AACD;;AAED,aAAOR,yBAAyBd,cAAc,KAAKxC,aAAL,CAAmBE,KAA1D,GAAkE,KAAKF,aAAL,CAAmBI,IAA5F;AACD;;AAED;;;;;;;;6CAKyBa,M,EAAQ;AAAA,UACxBsB,YADwB,GACR,KAAKlC,SADG,CACxBkC,YADwB;;AAE/B,UAAMK,kBAAkBC,QAAQ5B,SAAS,6DAAA6B,CAAUC,MAA3B,CAAxB;AACA,UAAMgB,uBAAuBlB,QAAQ,KAAKhD,aAAL,GAAqB,6DAAAiD,CAAUC,MAAvC,CAA7B;AACA,UAAIpC,IAAI,CAAR;;AAEA,UAAIiC,eAAJ,EAAqB;AACnBjC,YAAIoD,uBAAuBxB,eAAe,KAAKvC,aAAL,CAAmBC,GAAzD,GAA+D,CAAC,KAAKD,aAAL,CAAmBG,MAAvF;AACD,OAFD,MAEO;AACLQ,YAAIoD,uBAAwBxB,eAAe,KAAKvC,aAAL,CAAmBG,MAA1D,GAAoE,KAAKH,aAAL,CAAmBC,GAA3F;AACD;AACD,aAAOU,CAAP;AACD;;AAED;;;;;;;;6CAKyBM,M,EAAQ;AAC/B,UAAI+C,YAAY,CAAhB;AAD+B,UAExB1B,gBAFwB,GAEJ,KAAKjC,SAFD,CAExBiC,gBAFwB;;AAG/B,UAAMM,kBAAkBC,QAAQ5B,SAAS,6DAAA6B,CAAUC,MAA3B,CAAxB;AAH+B,UAIxBkB,cAJwB,GAINlG,yBAAyBmG,OAJnB,CAIxBD,cAJwB;;AAM/B;;AACA,UAAIrB,eAAJ,EAAqB;AACnBoB,oBAAY1B,iBAAiBrC,GAAjB,GAAuB,KAAKD,aAAL,CAAmBC,GAA1C,GAAgDgE,cAA5D;AACA,YAAI,EAAE,KAAKpE,aAAL,GAAqB,6DAAAiD,CAAUC,MAAjC,CAAJ,EAA8C;AAC5CiB,uBAAa,KAAK3D,SAAL,CAAekC,YAA5B;AACD;AACF,OALD,MAKO;AACLyB,oBAAY1B,iBAAiBnC,MAAjB,GAA0B,KAAKH,aAAL,CAAmBG,MAA7C,GAAsD,KAAKE,SAAL,CAAekC,YAArE,GAAoF0B,cAAhG;AACA,YAAI,KAAKpE,aAAL,GAAqB,6DAAAiD,CAAUC,MAAnC,EAA2C;AACzCiB,uBAAa,KAAK3D,SAAL,CAAekC,YAA5B;AACD;AACF;;AAED,aAAOyB,SAAP;AACD;;AAED;;;;oCACgB;AAAA;;AACd;AACA,WAAK3D,SAAL,GAAiB,KAAK8D,0BAAL,EAAjB;;AAEA,UAAMlD,SAAS,KAAKmD,gBAAL,EAAf;AACA,UAAMC,uBAAuB,KAAKC,wBAAL,CAA8BrD,MAA9B,CAA7B;AACA,UAAMsD,oBAAqBtD,SAAS,6DAAA6B,CAAUC,MAApB,GAA8B,QAA9B,GAAyC,KAAnE;AACA,UAAIyB,sBAAuBvD,SAAS,6DAAA6B,CAAUS,KAApB,GAA6B,OAA7B,GAAuC,MAAjE;AACA,UAAMkB,mBAAmB,KAAKC,0BAAL,CAAgCzD,MAAhC,CAAzB;AACA,UAAM0D,iBAAiB,KAAKC,wBAAL,CAA8B3D,MAA9B,CAAvB;AACA,UAAI4D,uDACDL,mBADC,EACqBC,mBAAmBA,gBAAnB,GAAsC,GAD3D,8BAEDF,iBAFC,EAEmBI,iBAAiBA,cAAjB,GAAkC,GAFrD,aAAJ;AAVc,wBAcsB,KAAKtE,SAd3B;AAAA,UAcPmC,WAdO,eAcPA,WAdO;AAAA,UAcME,YAdN,eAcMA,YAdN;AAed;;AACA,UAAIF,cAAcE,YAAd,GAA6B,2DAAAwB,CAAQY,kCAAzC,EAA6E;AAC3EN,8BAAsB,QAAtB;AACD;;AAED;AACA,UAAI,KAAKjE,eAAL,IAAwB,KAAKC,gBAAjC,EAAmD;AACjDqE,mBAAW,KAAKE,gCAAL,CAAsCF,QAAtC,CAAX;AACD;;AAED,WAAK,IAAMG,IAAX,IAAmBH,QAAnB,EAA6B;AAC3B,YAAIA,SAASI,cAAT,CAAwBD,IAAxB,KAAiCH,SAASG,IAAT,MAAmB,GAAxD,EAA6D;AAC3DH,mBAASG,IAAT,IAAoBE,SAASL,SAASG,IAAT,CAAT,EAAyB,EAAzB,CAApB;AACD;AACF;;AAED,WAAK/I,QAAL,CAAcuC,kBAAd,CAAoCgG,mBAApC,SAA2DD,iBAA3D;AACA,WAAKtI,QAAL,CAAcoD,WAAd,CAA0BwF,QAA1B;AACA,WAAK5I,QAAL,CAAcqD,YAAd,CAA2B+E,uBAAuBA,uBAAuB,IAA9C,GAAqD,EAAhF;;AAEA;AACA,WAAKhE,SAAL,GAAiB,IAAjB;AACD;;AAED;;;;;;;;;;;;;;;;;;;;qDAiBiCwE,Q,EAAU;AAAA,wBACA,KAAKxE,SADL;AAAA,UAClC8B,YADkC,eAClCA,YADkC;AAAA,UACpBG,gBADoB,eACpBA,gBADoB;;;AAGzC,WAAK,IAAM0C,IAAX,IAAmBH,QAAnB,EAA6B;AAC3B,YAAIA,SAASI,cAAT,CAAwBD,IAAxB,CAAJ,EAAmC;AACjC;AACA;AACA,cAAI1C,iBAAiB2C,cAAjB,CAAgCD,IAAhC,CAAJ,EAA2C;AACzCH,qBAASG,IAAT,IAAiBE,SAASL,SAASG,IAAT,CAAT,EAAyB,EAAzB,IAA+B1C,iBAAiB0C,IAAjB,CAAhD;AACD;;AAED;AACA;AACA,cAAI,CAAC,KAAKxE,gBAAV,EAA4B;AAC1B,gBAAIwE,SAAS,KAAb,EAAoB;AAClBH,uBAASG,IAAT,IAAiBE,SAASL,SAASG,IAAT,CAAT,EAAyB,EAAzB,IAA+B7C,aAAaxB,CAA7D;AACD,aAFD,MAEO,IAAIqE,SAAS,QAAb,EAAuB;AAC5BH,uBAASG,IAAT,IAAiBE,SAASL,SAASG,IAAT,CAAT,EAAyB,EAAzB,IAA+B7C,aAAaxB,CAA7D;AACD,aAFM,MAEA,IAAIqE,SAAS,MAAb,EAAqB;AAC1BH,uBAASG,IAAT,IAAiBE,SAASL,SAASG,IAAT,CAAT,EAAyB,EAAzB,IAA+B7C,aAAazB,CAA7D;AACD,aAFM,MAEA,IAAIsE,SAAS,OAAb,EAAsB;AAC3BH,uBAASG,IAAT,IAAiBE,SAASL,SAASG,IAAT,CAAT,EAAyB,EAAzB,IAA+B7C,aAAazB,CAA7D;AACD;AACF;AACF;AACF;;AAED,aAAOmE,QAAP;AACD;;AAED;;;;;;2BAGO;AAAA;;AACL,WAAK5I,QAAL,CAAcyC,SAAd;;AAEA,UAAI,CAAC,KAAK4B,UAAV,EAAsB;AACpB,aAAKrE,QAAL,CAAc+B,QAAd,CAAuBD,yBAAyB6C,UAAzB,CAAoCuE,cAA3D;AACD;;AAED,WAAKxF,mBAAL,GAA2ByF,sBAAsB,YAAM;AACrD,eAAKnJ,QAAL,CAAc+B,QAAd,CAAuBD,yBAAyB6C,UAAzB,CAAoCE,IAA3D;AACA,eAAKlB,WAAL,GAAmB,OAAK3D,QAAL,CAAc+C,kBAAd,EAAnB;AACA,eAAKqG,aAAL;AACA,YAAI,OAAK/E,UAAT,EAAqB;AACnB,iBAAKrE,QAAL,CAAcoC,UAAd;AACD,SAFD,MAEO;AACL,iBAAKoB,wBAAL,GAAgC6F,WAAW,YAAM;AAC/C,mBAAK7F,wBAAL,GAAgC,CAAhC;AACA,mBAAKxD,QAAL,CAAcgC,WAAd,CAA0BF,yBAAyB6C,UAAzB,CAAoCuE,cAA9D;AACA,mBAAKlJ,QAAL,CAAcoC,UAAd;AACD,WAJ+B,EAI7B,2DAAA6F,CAAQqB,wBAJqB,CAAhC;AAKD;AACF,OAb0B,CAA3B;AAcA,WAAK/F,OAAL,GAAe,IAAf;AACD;;AAED;;;;;;4BAGQ;AAAA;;AACN,UAAI,CAAC,KAAKc,UAAV,EAAsB;AACpB,aAAKrE,QAAL,CAAc+B,QAAd,CAAuBD,yBAAyB6C,UAAzB,CAAoC4E,gBAA3D;AACD;;AAEDJ,4BAAsB,YAAM;AAC1B,eAAKnJ,QAAL,CAAcgC,WAAd,CAA0BF,yBAAyB6C,UAAzB,CAAoCE,IAA9D;AACA,YAAI,OAAKR,UAAT,EAAqB;AACnB,iBAAKrE,QAAL,CAAcmC,WAAd;AACD,SAFD,MAEO;AACL,iBAAKsB,yBAAL,GAAiC4F,WAAW,YAAM;AAChD,mBAAK5F,yBAAL,GAAiC,CAAjC;AACA,mBAAKzD,QAAL,CAAcgC,WAAd,CAA0BF,yBAAyB6C,UAAzB,CAAoC4E,gBAA9D;AACA,mBAAKvJ,QAAL,CAAcmC,WAAd;AACD,WAJgC,EAI9B,2DAAA8F,CAAQuB,yBAJsB,CAAjC;AAKD;AACF,OAXD;;AAaA,WAAKjG,OAAL,GAAe,KAAf;AACA,WAAKkG,kBAAL;AACD;;AAED;;;;;;;;yCAKqB;AACnB,UAAI,KAAKzJ,QAAL,CAAcwC,SAAd,MAA6B,KAAKxC,QAAL,CAAcqC,oBAAd,CAAmCb,SAASkI,aAA5C,CAAjC,EAA6F;AAC3F,aAAK1J,QAAL,CAAc0C,YAAd;AACD;AACF;;AAED;;;;6BACS;AACP,aAAO,KAAKa,OAAZ;AACD;;AAED;;;;;;;;;;uCAOmBoG,G,EAAK;AACtB,aAAO,OAAOA,GAAP,KAAe,QAAf,IAA2BC,SAASD,GAAT,CAAlC;AACD;;;;EA5foC,0E;;;;;;;;;;;;;;ACxDvC;AAAA;;;;;;;;;;;;;;;;;;;;;;;AAuBA;AACA,IAAMhF,aAAa;AACjBkF,UAAQ,0BADS;AAEjBN,oBAAkB,oCAFD;AAGjBL,kBAAgB,kCAHC;AAIjBY,SAAO,yBAJU;AAKjBjF,QAAM,wBALW;AAMjBD,QAAM;AANW,CAAnB;;AASA;AACA,IAAMmF,UAAU;AACdC,gBAAc,uBADA;AAEdC,gBAAc,uBAFA;AAGdC,sBAAoB,sFACpB;AAJc,CAAhB;;AAOA;AACA,IAAMjC,UAAU;AACd;AACAqB,4BAA0B,GAFZ;AAGd;AACAE,6BAA2B,EAJb;AAKd;AACAxB,kBAAgB,EANF;AAOd;AACAa,sCAAoC;AARtB,CAAhB;;AAWA;;;;AAIA,IAAMhC,YAAY;AAChBC,UAAQ,CADQ;AAEhBqD,UAAQ,CAFQ;AAGhB7C,SAAO,CAHS;AAIhBF,YAAU;AAJM,CAAlB;;AAOA;;;;;;;;;AASA,IAAMvD,SAAS;AACb6C,YAAU,CADG;AAEb0D,aAAWvD,UAAUS,KAFR;AAGb+C,eAAaxD,UAAUC,MAHV;AAIbwD,gBAAczD,UAAUC,MAAV,GAAmBD,UAAUS,KAJ9B;AAKbxD,aAAW+C,UAAUO,QALR;AAMbmD,WAAS1D,UAAUO,QAAV,GAAqBP,UAAUS,KAN3B;AAObkD,gBAAc3D,UAAUC,MAAV,GAAmBD,UAAUO,QAP9B;AAQbqD,cAAY5D,UAAUC,MAAV,GAAmBD,UAAUS,KAA7B,GAAqCT,UAAUO;AAR9C,CAAf;;;;;;;;;;;;;;;ACzEA;;;;;;;;;;;;;;;;;;;;;;;AAuBA;;AAEA;;;;;;;;;;;;;;;;;;;IAmBMsD,qB;;;;;;;;AACJ;6BACSC,S,EAAW,CAAE;;AAEtB;;;;gCACYA,S,EAAW,CAAE;;AAEzB;;;;;;;6BAISA,S,EAAW,CAAE;;AAEtB;;;;gCACY,CAAE;;AAEd;;;;kCACc,CAAE;;AAEhB;;;;iCACa,CAAE;;AAEf;;;;;;;yCAIqBrF,E,EAAI,CAAE;;AAE3B;;;;4BACQ,CAAE;;AAEV;;;;uCACmBsF,M,EAAQ,CAAE;;AAE7B;;;;gCACY,CAAE;;AAEd;;;;gCACY,CAAE;;AAEd;;;;mCACe,CAAE;;AAEjB;;;;4CACwB,CAAE;;AAE1B;;;;2CACuB,CAAE;;AAEzB;;;;wCACoB,CAAE;;AAEtB;;;;uCACmB,CAAE;;AAErB;;;;yCACqB,CAAE;;AAEvB;;;;0CACsB,CAAE;;AAExB;;;;0CACsB,CAAE;;AAExB;;;;wCACoB,CAAE;;AAEtB;;;;sCACkB,CAAE;;AAEpB;;;;;;;;;gCAMYhC,Q,EAAU,CAAE;;AAExB;;;;iCACazC,M,EAAQ,CAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC3HzB;;;;;;;;;;;;;;;;;;;;;;;AAuBA;AACA;AACA;AACA;AACA;;AAEA;;;;IAGM0E,c;;;AACJ;AACA,4BAAqB;AAAA;;AAAA;;AAAA,sCAANvK,IAAM;AAANA,UAAM;AAAA;;AAGnB;AAHmB,2JACVA,IADU;;AAInB,UAAKwK,cAAL;AACA;AACA,UAAKC,aAAL;AACA;AACA,UAAKC,sBAAL;AACA;AACA,UAAKC,qBAAL;AACA;AACA,UAAKC,cAAL;AACA;AACA,UAAKC,gBAAL;AACA;AACA,UAAKC,0BAAL;AACA;AACA,UAAKC,4BAAL;AAlBmB;AAmBpB;;AAED;;;;;;;;yCAQqB;AAAA;;AACnB,UAAI,KAAKhL,KAAL,CAAWiL,aAAX,IAA4B,KAAKjL,KAAL,CAAWiL,aAAX,CAAyBC,SAAzB,CAAmCC,QAAnC,CAA4C,8DAAA7G,CAAWkF,MAAvD,CAAhC,EAAgG;AAC9F,aAAKkB,aAAL,GAAqB,KAAK1K,KAAL,CAAWiL,aAAhC;AACD;;AAED,UAAI,KAAKjL,KAAL,CAAWkL,SAAX,CAAqBC,QAArB,CAA8B,8DAAA7G,CAAWmF,KAAzC,CAAJ,EAAqD;AACnD,aAAK2B,gBAAL,CAAsB,IAAtB;AACD;;AAED,WAAKP,cAAL,GAAsB,UAAC9J,GAAD;AAAA,eAAS,OAAKZ,WAAL,CAAiBkL,aAAjB,CAA+BtK,GAA/B,CAAT;AAAA,OAAtB;AACA,WAAK+J,gBAAL,GAAwB,UAAC/J,GAAD;AAAA,eAAS,OAAKZ,WAAL,CAAiBmL,eAAjB,CAAiCvK,GAAjC,CAAT;AAAA,OAAxB;;AAEA,WAAKgK,0BAAL,GAAkC;AAAA,eAAM5J,SAASoK,IAAT,CAAc5K,gBAAd,CAA+B,OAA/B,EAAwC,OAAKmK,gBAA7C,CAAN;AAAA,OAAlC;AACA,WAAKE,4BAAL,GAAoC;AAAA,eAAM7J,SAASoK,IAAT,CAAc3K,mBAAd,CAAkC,OAAlC,EAA2C,OAAKkK,gBAAhD,CAAN;AAAA,OAApC;;AAEA,WAAK9K,KAAL,CAAWW,gBAAX,CAA4B,SAA5B,EAAuC,KAAKkK,cAA5C;AACA,WAAK7K,KAAL,CAAWW,gBAAX,CAA4B,2DAAA+I,CAAQE,YAApC,EAAkD,KAAKmB,0BAAvD;AACA,WAAK/K,KAAL,CAAWW,gBAAX,CAA4B,2DAAA+I,CAAQC,YAApC,EAAkD,KAAKqB,4BAAvD;AACD;;;8BAES;AACR,WAAKhL,KAAL,CAAWY,mBAAX,CAA+B,SAA/B,EAA0C,KAAKiK,cAA/C;AACA,WAAK7K,KAAL,CAAWY,mBAAX,CAA+B,2DAAA8I,CAAQE,YAAvC,EAAqD,KAAKmB,0BAA1D;AACA,WAAK/K,KAAL,CAAWY,mBAAX,CAA+B,2DAAA8I,CAAQC,YAAvC,EAAqD,KAAKqB,4BAA1D;AACA;AACD;;AAED;;;;;;AAkBA;;;;sCAIkB;AAChB7J,eAASoK,IAAT,CAAcC,WAAd,CAA0B,KAAKxL,KAAL,CAAWiL,aAAX,CAAyBQ,WAAzB,CAAqC,KAAKzL,KAA1C,CAA1B;AACA,WAAK0L,YAAL,CAAkB,IAAlB;AACD;;AAED;;;;;;;;iCAKa7G,S,EAAW;AACtB,WAAK1E,WAAL,CAAiBuL,YAAjB,CAA8B7G,SAA9B;AACD;;AAED;;;;;;;gDAI4B8G,O,EAAS;AACnC,WAAKjB,aAAL,GAAqBiB,OAArB;AACD;;AAED;;;;;;;qCAIiBC,O,EAAS;AACxB,UAAIA,OAAJ,EAAa;AACX,aAAK5L,KAAL,CAAWkL,SAAX,CAAqBW,GAArB,CAAyB,8DAAAvH,CAAWmF,KAApC;AACD,OAFD,MAEO;AACL,aAAKzJ,KAAL,CAAWkL,SAAX,CAAqBY,MAArB,CAA4B,8DAAAxH,CAAWmF,KAAvC;AACD;;AAED,WAAKtJ,WAAL,CAAiBiL,gBAAjB,CAAkCQ,OAAlC;AACD;;AAED;;;;;;;;wCAKoBxH,C,EAAGC,C,EAAG;AACxB,WAAKlE,WAAL,CAAiB4L,mBAAjB,CAAqC3H,CAArC,EAAwCC,CAAxC;AACA,WAAKqH,YAAL,CAAkB,IAAlB;AACD;;AAED;;;;;;;oCAIgB/G,M,EAAQ;AACtB,WAAKxE,WAAL,CAAiB6L,eAAjB,CAAiCrH,MAAjC;AACD;;AAED;;;;;;oCAGgBC,M,EAAQ;AACtB,WAAKzE,WAAL,CAAiB8L,eAAjB,CAAiCrH,MAAjC;AACD;;AAED;;;;;;AAKA;2CACuB;AAAA;;AACrB,aAAO,IAAI,6EAAJ;AACL,2CAAuC,SAAc;AACnDlD,kBAAU,kBAAC4I,SAAD;AAAA,iBAAe,OAAKtK,KAAL,CAAWkL,SAAX,CAAqBW,GAArB,CAAyBvB,SAAzB,CAAf;AAAA,SADyC;AAEnD3I,qBAAa,qBAAC2I,SAAD;AAAA,iBAAe,OAAKtK,KAAL,CAAWkL,SAAX,CAAqBY,MAArB,CAA4BxB,SAA5B,CAAf;AAAA,SAFsC;AAGnD1I,kBAAU,kBAAC0I,SAAD;AAAA,iBAAe,OAAKtK,KAAL,CAAWkL,SAAX,CAAqBC,QAArB,CAA8Bb,SAA9B,CAAf;AAAA,SAHyC;AAInDzI,mBAAW;AAAA,iBAAM,CAAC,CAAC,OAAK6I,aAAb;AAAA,SAJwC;AAKnD5I,qBAAa;AAAA,iBAAM,OAAKoK,IAAL,CAAU,6EAAAzK,CAAyBiI,OAAzB,CAAiCC,YAA3C,EAAyD,EAAzD,CAAN;AAAA,SALsC;AAMnD5H,oBAAY;AAAA,iBAAM,OAAKmK,IAAL,CAAU,6EAAAzK,CAAyBiI,OAAzB,CAAiCE,YAA3C,EAAyD,EAAzD,CAAN;AAAA,SANuC;AAOnD5H,8BAAsB,8BAACiD,EAAD;AAAA,iBAAQ,OAAKjF,KAAL,KAAeiF,EAAf,IAAqB,OAAKjF,KAAL,CAAWmL,QAAX,CAAoBlG,EAApB,CAA7B;AAAA,SAP6B;AAQnDhD,eAAO;AAAA,iBAAMkK,iBAAiB,OAAKnM,KAAtB,EAA6BoM,gBAA7B,CAA8C,WAA9C,MAA+D,KAArE;AAAA,SAR4C;AASnDlK,4BAAoB,4BAACqI,MAAD,EAAY;AAC9B,iBAAKvK,KAAL,CAAWqM,KAAX,CAAoB,gEAA8BC,MAA9B,CAApB,gBAAsE/B,MAAtE;AACD;AAXkD,OAAd,EAavC,KAAKgC,uBAAL,EAbuC,EAcvC,KAAKC,2BAAL,EAduC,CADlC,CAAP;AAiBD;;AAED;;;;;;;;;;;;;;;8CAY0B;AAAA;;AACxB,aAAO;AACLrK,mBAAW;AAAA,iBAAMhB,SAASkI,aAAT,KAA2B,OAAKrJ,KAAtC;AAAA,SADN;AAELoC,mBAAW,qBAAM;AACf,iBAAKqI,cAAL,GAAsBtJ,SAASkI,aAA/B;AACD,SAJI;AAKLhH,sBAAc,wBAAM;AAClB,cAAI,OAAKrC,KAAL,CAAWmL,QAAX,CAAoBhK,SAASkI,aAA7B,CAAJ,EAAiD;AAC/C,gBAAI,OAAKoB,cAAL,IAAuB,OAAKA,cAAL,CAAoBgC,KAA/C,EAAsD;AACpD,qBAAKhC,cAAL,CAAoBgC,KAApB;AACD;AACF;AACF,SAXI;AAYLnK,+BAAuB;AAAA,iBACrB,OAAKqI,sBAAL,IAA+B,OAAKA,sBAAL,KAAgCxJ,SAASkI,aADnD;AAAA,SAZlB;AAcL9G,8BAAsB;AAAA,iBACpB,OAAKqI,qBAAL,IAA8B,OAAKA,qBAAL,KAA+BzJ,SAASkI,aADlD;AAAA,SAdjB;AAgBL7G,2BAAmB;AAAA,iBACjB,OAAKmI,sBAAL,IAA+B,OAAKA,sBAAL,CAA4B8B,KAA3D,IAAoE,OAAK9B,sBAAL,CAA4B8B,KAA5B,EADnD;AAAA,SAhBd;AAkBLhK,0BAAkB;AAAA,iBAChB,OAAKmI,qBAAL,IAA8B,OAAKA,qBAAL,CAA2B6B,KAAzD,IAAkE,OAAK7B,qBAAL,CAA2B6B,KAA3B,EADlD;AAAA;AAlBb,OAAP;AAqBD;;AAED;;;;;;;;;;;;kDAS8B;AAAA;;AAC5B,aAAO;AACL/J,4BAAoB,8BAAM;AACxB,iBAAO,EAACqD,OAAO,OAAK/F,KAAL,CAAW0M,WAAnB,EAAgC5G,QAAQ,OAAK9F,KAAL,CAAW2M,YAAnD,EAAP;AACD,SAHI;AAILhK,6BAAqB;AAAA,iBAAM,OAAK+H,aAAL,IAAsB,OAAKA,aAAL,CAAmBkC,qBAAnB,EAA5B;AAAA,SAJhB;AAKLhK,6BAAqB,+BAAM;AACzB,iBAAO,EAACmD,OAAOuG,OAAOO,UAAf,EAA2B/G,QAAQwG,OAAOQ,WAA1C,EAAP;AACD,SAPI;AAQLjK,2BAAmB,6BAAM;AACvB,iBAAO,EAACkD,OAAO5E,SAASoK,IAAT,CAAcwB,WAAtB,EAAmCjH,QAAQ3E,SAASoK,IAAT,CAAcyB,YAAzD,EAAP;AACD,SAVI;AAWLlK,yBAAiB,2BAAM;AACrB,iBAAO,EAACsB,GAAGkI,OAAOW,WAAX,EAAwB5I,GAAGiI,OAAOY,WAAlC,EAAP;AACD,SAbI;AAcLnK,qBAAa,qBAACwF,QAAD,EAAc;AACzB,iBAAKvI,KAAL,CAAWqM,KAAX,CAAiBvI,IAAjB,GAAwB,UAAUyE,QAAV,GAAqBA,SAASzE,IAA9B,GAAqC,IAA7D;AACA,iBAAK9D,KAAL,CAAWqM,KAAX,CAAiBzI,KAAjB,GAAyB,WAAW2E,QAAX,GAAsBA,SAAS3E,KAA/B,GAAuC,IAAhE;AACA,iBAAK5D,KAAL,CAAWqM,KAAX,CAAiB1I,GAAjB,GAAuB,SAAS4E,QAAT,GAAoBA,SAAS5E,GAA7B,GAAmC,IAA1D;AACA,iBAAK3D,KAAL,CAAWqM,KAAX,CAAiBxI,MAAjB,GAA0B,YAAY0E,QAAZ,GAAuBA,SAAS1E,MAAhC,GAAyC,IAAnE;AACD,SAnBI;AAoBLb,sBAAc,sBAAC8C,MAAD,EAAY;AACxB,iBAAK9F,KAAL,CAAWqM,KAAX,CAAiB3E,SAAjB,GAA6B5B,MAA7B;AACD;AAtBI,OAAP;AAwBD;;;wBAlLU;AACT,aAAO,KAAK3F,WAAL,CAAiBgN,MAAjB,EAAP;AACD;;AAED;;sBACSC,K,EAAO;AACd,UAAIA,KAAJ,EAAW;AACT,YAAMC,oBAAoB,KAAKrN,KAAL,CAAWsN,gBAAX,CAA4B,2DAAA5D,CAAQG,kBAApC,CAA1B;AACA,aAAKc,sBAAL,GAA8B0C,kBAAkBE,MAAlB,GAA2B,CAA3B,GAA+BF,kBAAkB,CAAlB,CAA/B,GAAsD,IAApF;AACA,aAAKzC,qBAAL,GAA6ByC,kBAAkBE,MAAlB,GAA2B,CAA3B,GAC3BF,kBAAkBA,kBAAkBE,MAAlB,GAA2B,CAA7C,CAD2B,GACuB,IADpD;AAEA,aAAKpN,WAAL,CAAiBqN,IAAjB;AACD,OAND,MAMO;AACL,aAAKrN,WAAL,CAAiBgF,KAAjB;AACD;AACF;;;sBAoEaH,S,EAAW;AACvB,WAAK7E,WAAL,CAAiBsN,YAAjB,CAA8BzI,SAA9B;AACD;;;6BArHenF,I,EAAM;AACpB,aAAO,IAAI2K,cAAJ,CAAmB3K,IAAnB,CAAP;AACD;;;;EA7B0B,yE;;;;;;;;;;;AChC7B;AAAA;;;;;;;;;;;;;;;;;;;;;;;AAuBA;AACA,IAAI6N,qCAAJ;;AAEA;;;;;;AAMA,SAASC,wBAAT,CAAkCC,SAAlC,EAAmE;AAAA,MAAtBC,YAAsB,uEAAP,KAAO;;AACjE,MAAIH,iCAAiC3N,SAAjC,IAA8C8N,YAAlD,EAAgE;AAC9D,QAAM5I,KAAK2I,UAAUzM,QAAV,CAAmB2M,aAAnB,CAAiC,KAAjC,CAAX;AACA,QAAMC,wBAAyB,eAAe9I,GAAGoH,KAAlB,GAA0B,WAA1B,GAAwC,iBAAvE;AACAqB,mCAA+BK,qBAA/B;AACD;;AAED,SAAOL,4BAAP;AACD","file":"mdc.menuSurface.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"menuSurface\"] = factory();\n\telse\n\t\troot[\"mdc\"] = root[\"mdc\"] || {}, root[\"mdc\"][\"menuSurface\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 33);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap f4236009c12d5e24ddbe","/**\n * @license\n * Copyright 2016 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\n/**\n * @template A\n */\nclass MDCFoundation {\n  /** @return enum{cssClasses} */\n  static get cssClasses() {\n    // Classes extending MDCFoundation should implement this method to return an object which exports every\n    // CSS class the foundation class needs as a property. e.g. {ACTIVE: 'mdc-component--active'}\n    return {};\n  }\n\n  /** @return enum{strings} */\n  static get strings() {\n    // Classes extending MDCFoundation should implement this method to return an object which exports all\n    // semantic strings as constants. e.g. {ARIA_ROLE: 'tablist'}\n    return {};\n  }\n\n  /** @return enum{numbers} */\n  static get numbers() {\n    // Classes extending MDCFoundation should implement this method to return an object which exports all\n    // of its semantic numbers as constants. e.g. {ANIMATION_DELAY_MS: 350}\n    return {};\n  }\n\n  /** @return {!Object} */\n  static get defaultAdapter() {\n    // Classes extending MDCFoundation may choose to implement this getter in order to provide a convenient\n    // way of viewing the necessary methods of an adapter. In the future, this could also be used for adapter\n    // validation.\n    return {};\n  }\n\n  /**\n   * @param {A=} adapter\n   */\n  constructor(adapter = {}) {\n    /** @protected {!A} */\n    this.adapter_ = adapter;\n  }\n\n  init() {\n    // Subclasses should override this method to perform initialization routines (registering events, etc.)\n  }\n\n  destroy() {\n    // Subclasses should override this method to perform de-initialization routines (de-registering events, etc.)\n  }\n}\n\nexport default MDCFoundation;\n\n\n\n// WEBPACK FOOTER //\n// ./packages/mdc-base/foundation.js","/**\n * @license\n * Copyright 2016 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\nimport MDCFoundation from './foundation';\n\n/**\n * @template F\n */\nclass MDCComponent {\n  /**\n   * @param {!Element} root\n   * @return {!MDCComponent}\n   */\n  static attachTo(root) {\n    // Subclasses which extend MDCBase should provide an attachTo() method that takes a root element and\n    // returns an instantiated component with its root set to that element. Also note that in the cases of\n    // subclasses, an explicit foundation class will not have to be passed in; it will simply be initialized\n    // from getDefaultFoundation().\n    return new MDCComponent(root, new MDCFoundation());\n  }\n\n  /**\n   * @param {!Element} root\n   * @param {F=} foundation\n   * @param {...?} args\n   */\n  constructor(root, foundation = undefined, ...args) {\n    /** @protected {!Element} */\n    this.root_ = root;\n    this.initialize(...args);\n    // Note that we initialize foundation here and not within the constructor's default param so that\n    // this.root_ is defined and can be used within the foundation class.\n    /** @protected {!F} */\n    this.foundation_ = foundation === undefined ? this.getDefaultFoundation() : foundation;\n    this.foundation_.init();\n    this.initialSyncWithDOM();\n  }\n\n  initialize(/* ...args */) {\n    // Subclasses can override this to do any additional setup work that would be considered part of a\n    // \"constructor\". Essentially, it is a hook into the parent constructor before the foundation is\n    // initialized. Any additional arguments besides root and foundation will be passed in here.\n  }\n\n  /**\n   * @return {!F} foundation\n   */\n  getDefaultFoundation() {\n    // Subclasses must override this method to return a properly configured foundation class for the\n    // component.\n    throw new Error('Subclasses must override getDefaultFoundation to return a properly configured ' +\n      'foundation class');\n  }\n\n  initialSyncWithDOM() {\n    // Subclasses should override this method if they need to perform work to synchronize with a host DOM\n    // object. An example of this would be a form control wrapper that needs to synchronize its internal state\n    // to some property or attribute of the host DOM. Please note: this is *not* the place to perform DOM\n    // reads/writes that would cause layout / paint, as this is called synchronously from within the constructor.\n  }\n\n  destroy() {\n    // Subclasses may implement this method to release any resources / deregister any listeners they have\n    // attached. An example of this might be deregistering a resize event from the window object.\n    this.foundation_.destroy();\n  }\n\n  /**\n   * Wrapper method to add an event listener to the component's root element. This is most useful when\n   * listening for custom events.\n   * @param {string} evtType\n   * @param {!Function} handler\n   */\n  listen(evtType, handler) {\n    this.root_.addEventListener(evtType, handler);\n  }\n\n  /**\n   * Wrapper method to remove an event listener to the component's root element. This is most useful when\n   * unlistening for custom events.\n   * @param {string} evtType\n   * @param {!Function} handler\n   */\n  unlisten(evtType, handler) {\n    this.root_.removeEventListener(evtType, handler);\n  }\n\n  /**\n   * Fires a cross-browser-compatible custom event from the component root of the given type,\n   * with the given data.\n   * @param {string} evtType\n   * @param {!Object} evtData\n   * @param {boolean=} shouldBubble\n   */\n  emit(evtType, evtData, shouldBubble = false) {\n    let evt;\n    if (typeof CustomEvent === 'function') {\n      evt = new CustomEvent(evtType, {\n        detail: evtData,\n        bubbles: shouldBubble,\n      });\n    } else {\n      evt = document.createEvent('CustomEvent');\n      evt.initCustomEvent(evtType, shouldBubble, false, evtData);\n    }\n\n    this.root_.dispatchEvent(evt);\n  }\n}\n\nexport default MDCComponent;\n\n\n\n// WEBPACK FOOTER //\n// ./packages/mdc-base/component.js","/**\n * @license\n * Copyright 2018 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\n/**\n * @typedef {{\n *   top: number,\n *   right: number,\n *   bottom: number,\n *   left: number\n * }}\n */\nlet AnchorMargin;\n\n/* eslint-disable no-unused-vars */\n/**\n * @typedef {{\n *   viewport: { width: number, height: number },\n *   viewportDistance: {top: number, right: number, bottom: number, left: number},\n *   anchorHeight: number,\n *   anchorWidth: number,\n *   surfaceHeight: number,\n *   surfaceWidth: number,\n *   bodyDimensions,\n *   windowScroll,\n * }}\n */\nlet AutoLayoutMeasurements;\n/* eslint-enable no-unused-vars */\n\nimport MDCFoundation from '@material/base/foundation';\nimport {MDCMenuSurfaceAdapter} from './adapter';\nimport {cssClasses, strings, numbers, Corner, CornerBit} from './constants';\n\n/**\n * @extends {MDCFoundation<!MDCMenuSurfaceAdapter>}\n */\nclass MDCMenuSurfaceFoundation extends MDCFoundation {\n  /** @return enum{cssClasses} */\n  static get cssClasses() {\n    return cssClasses;\n  }\n\n  /** @return enum{string} */\n  static get strings() {\n    return strings;\n  }\n\n  /** @return enum {number} */\n  static get numbers() {\n    return numbers;\n  }\n\n  /** @return enum{number} */\n  static get Corner() {\n    return Corner;\n  }\n\n  /**\n   * {@see MDCMenuSurfaceAdapter} for typing information on parameters and return\n   * types.\n   * @return {!MDCMenuSurfaceAdapter}\n   */\n  static get defaultAdapter() {\n    return /** @type {!MDCMenuSurfaceAdapter} */ ({\n      addClass: () => {},\n      removeClass: () => {},\n      hasClass: () => false,\n      hasAnchor: () => false,\n      notifyClose: () => {},\n      notifyOpen: () => {},\n      isElementInContainer: () => false,\n      isRtl: () => false,\n      setTransformOrigin: () => {},\n      isFocused: () => false,\n      saveFocus: () => {},\n      restoreFocus: () => {},\n      isFirstElementFocused: () => {},\n      isLastElementFocused: () => {},\n      focusFirstElement: () => {},\n      focusLastElement: () => {},\n      getInnerDimensions: () => ({}),\n      getAnchorDimensions: () => ({}),\n      getWindowDimensions: () => ({}),\n      getBodyDimensions: () => ({}),\n      getWindowScroll: () => ({}),\n      setPosition: () => {},\n      setMaxHeight: () => {},\n    });\n  }\n\n  /** @param {!MDCMenuSurfaceAdapter} adapter */\n  constructor(adapter) {\n    super(Object.assign(MDCMenuSurfaceFoundation.defaultAdapter, adapter));\n\n    /** @private {boolean} */\n    this.isOpen_ = false;\n    /** @private {number} */\n    this.openAnimationEndTimerId_ = 0;\n    /** @private {number} */\n    this.closeAnimationEndTimerId_ = 0;\n    /** @private {number} */\n    this.animationRequestId_ = 0;\n    /** @private {!{ width: number, height: number }} */\n    this.dimensions_;\n    /** @private {!Corner} */\n    this.anchorCorner_ = Corner.TOP_START;\n    /** @private {!AnchorMargin} */\n    this.anchorMargin_ = {top: 0, right: 0, bottom: 0, left: 0};\n    /** @private {?AutoLayoutMeasurements} */\n    this.measures_ = null;\n    /** @private {boolean} */\n    this.quickOpen_ = false;\n    /** @private {boolean} */\n    this.hoistedElement_ = false;\n    /** @private {boolean} */\n    this.isFixedPosition_ = false;\n    /** @private {!{x: number, y: number}} */\n    this.position_ = {x: 0, y: 0};\n  }\n\n  init() {\n    const {ROOT, OPEN} = MDCMenuSurfaceFoundation.cssClasses;\n\n    if (!this.adapter_.hasClass(ROOT)) {\n      throw new Error(`${ROOT} class required in root element.`);\n    }\n\n    if (this.adapter_.hasClass(OPEN)) {\n      this.isOpen_ = true;\n    }\n  }\n\n  destroy() {\n    clearTimeout(this.openAnimationEndTimerId_);\n    clearTimeout(this.closeAnimationEndTimerId_);\n    // Cancel any currently running animations.\n    cancelAnimationFrame(this.animationRequestId_);\n  }\n\n  /**\n   * @param {!Corner} corner Default anchor corner alignment of top-left menu surface corner.\n   */\n  setAnchorCorner(corner) {\n    this.anchorCorner_ = corner;\n  }\n\n  /**\n   * @param {!AnchorMargin} margin set of margin values from anchor.\n   */\n  setAnchorMargin(margin) {\n    this.anchorMargin_.top = typeof margin.top === 'number' ? margin.top : 0;\n    this.anchorMargin_.right = typeof margin.right === 'number' ? margin.right : 0;\n    this.anchorMargin_.bottom = typeof margin.bottom === 'number' ? margin.bottom : 0;\n    this.anchorMargin_.left = typeof margin.left === 'number' ? margin.left : 0;\n  }\n\n  /**\n   * Used to indicate if the menu-surface is hoisted to the body.\n   * @param {boolean} isHoisted\n   */\n  setIsHoisted(isHoisted) {\n    this.hoistedElement_ = isHoisted;\n  }\n\n  /**\n   * Used to set the menu-surface calculations based on a fixed position menu.\n   * @param {boolean} isFixedPosition\n   */\n  setFixedPosition(isFixedPosition) {\n    this.isFixedPosition_ = isFixedPosition;\n  }\n\n  /**\n   * Sets the menu-surface position on the page.\n   * @param {number} x\n   * @param {number} y\n   */\n  setAbsolutePosition(x, y) {\n    this.position_.x = this.typeCheckisFinite_(x) ? x : 0;\n    this.position_.y = this.typeCheckisFinite_(y) ? y : 0;\n  }\n\n  /** @param {boolean} quickOpen */\n  setQuickOpen(quickOpen) {\n    this.quickOpen_ = quickOpen;\n  }\n\n  /**\n   * Handle clicks and close if not within menu-surface element.\n   * @param {!Event} evt\n   */\n  handleBodyClick(evt) {\n    const el = evt.target;\n\n    if (this.adapter_.isElementInContainer(el)) {\n      return;\n    }\n\n    this.close();\n  };\n\n  /**\n   * Handle keys that close the surface.\n   * @param {!Event} evt\n   */\n  handleKeydown(evt) {\n    const {keyCode, key, shiftKey} = evt;\n\n    const isEscape = key === 'Escape' || keyCode === 27;\n    const isTab = key === 'Tab' || keyCode === 9;\n\n    if (isEscape) {\n      this.close();\n    } else if (isTab) {\n      if (this.adapter_.isLastElementFocused() && !shiftKey) {\n        this.adapter_.focusFirstElement();\n        evt.preventDefault();\n      } else if (this.adapter_.isFirstElementFocused() && shiftKey) {\n        this.adapter_.focusLastElement();\n        evt.preventDefault();\n      }\n    }\n  }\n\n  /**\n   * @return {!AutoLayoutMeasurements} Measurements used to position menu surface popup.\n   */\n  getAutoLayoutMeasurements_() {\n    let anchorRect = this.adapter_.getAnchorDimensions();\n    const viewport = this.adapter_.getWindowDimensions();\n    const bodyDimensions = this.adapter_.getBodyDimensions();\n    const windowScroll = this.adapter_.getWindowScroll();\n\n    if (!anchorRect) {\n      anchorRect = /** @type {ClientRect} */ ({\n        x: this.position_.x,\n        y: this.position_.y,\n        top: this.position_.y,\n        bottom: this.position_.y,\n        left: this.position_.x,\n        right: this.position_.x,\n        height: 0,\n        width: 0,\n      });\n    }\n\n    return {\n      viewport,\n      bodyDimensions,\n      windowScroll,\n      viewportDistance: {\n        top: anchorRect.top,\n        right: viewport.width - anchorRect.right,\n        left: anchorRect.left,\n        bottom: viewport.height - anchorRect.bottom,\n      },\n      anchorHeight: anchorRect.height,\n      anchorWidth: anchorRect.width,\n      surfaceHeight: this.dimensions_.height,\n      surfaceWidth: this.dimensions_.width,\n    };\n  }\n\n  /**\n   * Computes the corner of the anchor from which to animate and position the menu surface.\n   * @return {!Corner}\n   * @private\n   */\n  getOriginCorner_() {\n    // Defaults: open from the top left.\n    let corner = Corner.TOP_LEFT;\n\n    const {viewportDistance, anchorHeight, anchorWidth, surfaceHeight, surfaceWidth} = this.measures_;\n    const isBottomAligned = Boolean(this.anchorCorner_ & CornerBit.BOTTOM);\n    const availableTop = isBottomAligned ? viewportDistance.top + anchorHeight + this.anchorMargin_.bottom\n      : viewportDistance.top + this.anchorMargin_.top;\n    const availableBottom = isBottomAligned ? viewportDistance.bottom - this.anchorMargin_.bottom\n      : viewportDistance.bottom + anchorHeight - this.anchorMargin_.top;\n\n    const topOverflow = surfaceHeight - availableTop;\n    const bottomOverflow = surfaceHeight - availableBottom;\n    if (bottomOverflow > 0 && topOverflow < bottomOverflow) {\n      corner |= CornerBit.BOTTOM;\n    }\n\n    const isRtl = this.adapter_.isRtl();\n    const isFlipRtl = Boolean(this.anchorCorner_ & CornerBit.FLIP_RTL);\n    const avoidHorizontalOverlap = Boolean(this.anchorCorner_ & CornerBit.RIGHT);\n    const isAlignedRight = (avoidHorizontalOverlap && !isRtl) ||\n      (!avoidHorizontalOverlap && isFlipRtl && isRtl);\n    const availableLeft = isAlignedRight ? viewportDistance.left + anchorWidth + this.anchorMargin_.right :\n      viewportDistance.left + this.anchorMargin_.left;\n    const availableRight = isAlignedRight ? viewportDistance.right - this.anchorMargin_.right :\n      viewportDistance.right + anchorWidth - this.anchorMargin_.left;\n\n    const leftOverflow = surfaceWidth - availableLeft;\n    const rightOverflow = surfaceWidth - availableRight;\n\n    if ((leftOverflow < 0 && isAlignedRight && isRtl) ||\n        (avoidHorizontalOverlap && !isAlignedRight && leftOverflow < 0) ||\n        (rightOverflow > 0 && leftOverflow < rightOverflow)) {\n      corner |= CornerBit.RIGHT;\n    }\n\n    return /** @type {Corner} */ (corner);\n  }\n\n  /**\n   * @param {!Corner} corner Origin corner of the menu surface.\n   * @return {number} Horizontal offset of menu surface origin corner from corresponding anchor corner.\n   * @private\n   */\n  getHorizontalOriginOffset_(corner) {\n    const {anchorWidth} = this.measures_;\n    // isRightAligned corresponds to using the 'right' property on the surface.\n    const isRightAligned = Boolean(corner & CornerBit.RIGHT);\n    const avoidHorizontalOverlap = Boolean(this.anchorCorner_ & CornerBit.RIGHT);\n\n    if (isRightAligned) {\n      const rightOffset = avoidHorizontalOverlap ? anchorWidth - this.anchorMargin_.left : this.anchorMargin_.right;\n\n      // For hoisted or fixed elements, adjust the offset by the difference between viewport width and body width so\n      // when we calculate the right value (`adjustPositionForHoistedElement_`) based on the element position,\n      // the right property is correct.\n      if (this.hoistedElement_ || this.isFixedPosition_) {\n        return rightOffset - (this.measures_.viewport.width - this.measures_.bodyDimensions.width);\n      }\n\n      return rightOffset;\n    }\n\n    return avoidHorizontalOverlap ? anchorWidth - this.anchorMargin_.right : this.anchorMargin_.left;\n  }\n\n  /**\n   * @param {!Corner} corner Origin corner of the menu surface.\n   * @return {number} Vertical offset of menu surface origin corner from corresponding anchor corner.\n   * @private\n   */\n  getVerticalOriginOffset_(corner) {\n    const {anchorHeight} = this.measures_;\n    const isBottomAligned = Boolean(corner & CornerBit.BOTTOM);\n    const avoidVerticalOverlap = Boolean(this.anchorCorner_ & CornerBit.BOTTOM);\n    let y = 0;\n\n    if (isBottomAligned) {\n      y = avoidVerticalOverlap ? anchorHeight - this.anchorMargin_.top : -this.anchorMargin_.bottom;\n    } else {\n      y = avoidVerticalOverlap ? (anchorHeight + this.anchorMargin_.bottom) : this.anchorMargin_.top;\n    }\n    return y;\n  }\n\n  /**\n   * @param {!Corner} corner Origin corner of the menu surface.\n   * @return {number} Maximum height of the menu surface, based on available space. 0 indicates should not be set.\n   * @private\n   */\n  getMenuSurfaceMaxHeight_(corner) {\n    let maxHeight = 0;\n    const {viewportDistance} = this.measures_;\n    const isBottomAligned = Boolean(corner & CornerBit.BOTTOM);\n    const {MARGIN_TO_EDGE} = MDCMenuSurfaceFoundation.numbers;\n\n    // When maximum height is not specified, it is handled from css.\n    if (isBottomAligned) {\n      maxHeight = viewportDistance.top + this.anchorMargin_.top - MARGIN_TO_EDGE;\n      if (!(this.anchorCorner_ & CornerBit.BOTTOM)) {\n        maxHeight += this.measures_.anchorHeight;\n      }\n    } else {\n      maxHeight = viewportDistance.bottom - this.anchorMargin_.bottom + this.measures_.anchorHeight - MARGIN_TO_EDGE;\n      if (this.anchorCorner_ & CornerBit.BOTTOM) {\n        maxHeight -= this.measures_.anchorHeight;\n      }\n    }\n\n    return maxHeight;\n  }\n\n  /** @private */\n  autoPosition_() {\n    // Compute measurements for autoposition methods reuse.\n    this.measures_ = this.getAutoLayoutMeasurements_();\n\n    const corner = this.getOriginCorner_();\n    const maxMenuSurfaceHeight = this.getMenuSurfaceMaxHeight_(corner);\n    const verticalAlignment = (corner & CornerBit.BOTTOM) ? 'bottom' : 'top';\n    let horizontalAlignment = (corner & CornerBit.RIGHT) ? 'right' : 'left';\n    const horizontalOffset = this.getHorizontalOriginOffset_(corner);\n    const verticalOffset = this.getVerticalOriginOffset_(corner);\n    let position = {\n      [horizontalAlignment]: horizontalOffset ? horizontalOffset : '0',\n      [verticalAlignment]: verticalOffset ? verticalOffset : '0',\n    };\n    const {anchorWidth, surfaceWidth} = this.measures_;\n    // Center align when anchor width is comparable or greater than menu surface, otherwise keep corner.\n    if (anchorWidth / surfaceWidth > numbers.ANCHOR_TO_MENU_SURFACE_WIDTH_RATIO) {\n      horizontalAlignment = 'center';\n    }\n\n    // If the menu-surface has been hoisted to the body, it's no longer relative to the anchor element\n    if (this.hoistedElement_ || this.isFixedPosition_) {\n      position = this.adjustPositionForHoistedElement_(position);\n    }\n\n    for (const prop in position) {\n      if (position.hasOwnProperty(prop) && position[prop] !== '0') {\n        position[prop] = `${parseInt(position[prop], 10)}px`;\n      }\n    }\n\n    this.adapter_.setTransformOrigin(`${horizontalAlignment} ${verticalAlignment}`);\n    this.adapter_.setPosition(position);\n    this.adapter_.setMaxHeight(maxMenuSurfaceHeight ? maxMenuSurfaceHeight + 'px' : '');\n\n    // Clear measures after positioning is complete.\n    this.measures_ = null;\n  }\n\n  /**\n   * Calculates the offsets for positioning the menu-surface when the menu-surface has been\n   * hoisted to the body.\n   * @param {!{\n   *   top: (string|undefined),\n   *   right: (string|undefined),\n   *   bottom: (string|undefined),\n   *   left: (string|undefined)\n   * }} position\n   * @return {!{\n   *   top: (string|undefined),\n   *   right: (string|undefined),\n   *   bottom: (string|undefined),\n   *   left: (string|undefined)\n   * }} position\n   * @private\n   */\n  adjustPositionForHoistedElement_(position) {\n    const {windowScroll, viewportDistance} = this.measures_;\n\n    for (const prop in position) {\n      if (position.hasOwnProperty(prop)) {\n        // Hoisted surfaces need to have the anchor elements location on the page added to the\n        // position properties for proper alignment on the body.\n        if (viewportDistance.hasOwnProperty(prop)) {\n          position[prop] = parseInt(position[prop], 10) + viewportDistance[prop];\n        }\n\n        // Surfaces that are absolutely positioned need to have additional calculations for scroll\n        // and bottom positioning.\n        if (!this.isFixedPosition_) {\n          if (prop === 'top') {\n            position[prop] = parseInt(position[prop], 10) + windowScroll.y;\n          } else if (prop === 'bottom') {\n            position[prop] = parseInt(position[prop], 10) - windowScroll.y;\n          } else if (prop === 'left') {\n            position[prop] = parseInt(position[prop], 10) + windowScroll.x;\n          } else if (prop === 'right') {\n            position[prop] = parseInt(position[prop], 10) - windowScroll.x;\n          }\n        }\n      }\n    }\n\n    return position;\n  }\n\n  /**\n   * Open the menu surface.\n   */\n  open() {\n    this.adapter_.saveFocus();\n\n    if (!this.quickOpen_) {\n      this.adapter_.addClass(MDCMenuSurfaceFoundation.cssClasses.ANIMATING_OPEN);\n    }\n\n    this.animationRequestId_ = requestAnimationFrame(() => {\n      this.adapter_.addClass(MDCMenuSurfaceFoundation.cssClasses.OPEN);\n      this.dimensions_ = this.adapter_.getInnerDimensions();\n      this.autoPosition_();\n      if (this.quickOpen_) {\n        this.adapter_.notifyOpen();\n      } else {\n        this.openAnimationEndTimerId_ = setTimeout(() => {\n          this.openAnimationEndTimerId_ = 0;\n          this.adapter_.removeClass(MDCMenuSurfaceFoundation.cssClasses.ANIMATING_OPEN);\n          this.adapter_.notifyOpen();\n        }, numbers.TRANSITION_OPEN_DURATION);\n      }\n    });\n    this.isOpen_ = true;\n  }\n\n  /**\n   * Closes the menu surface.\n   */\n  close() {\n    if (!this.quickOpen_) {\n      this.adapter_.addClass(MDCMenuSurfaceFoundation.cssClasses.ANIMATING_CLOSED);\n    }\n\n    requestAnimationFrame(() => {\n      this.adapter_.removeClass(MDCMenuSurfaceFoundation.cssClasses.OPEN);\n      if (this.quickOpen_) {\n        this.adapter_.notifyClose();\n      } else {\n        this.closeAnimationEndTimerId_ = setTimeout(() => {\n          this.closeAnimationEndTimerId_ = 0;\n          this.adapter_.removeClass(MDCMenuSurfaceFoundation.cssClasses.ANIMATING_CLOSED);\n          this.adapter_.notifyClose();\n        }, numbers.TRANSITION_CLOSE_DURATION);\n      }\n    });\n\n    this.isOpen_ = false;\n    this.maybeRestoreFocus_();\n  }\n\n  /**\n   * The last focused element when the menu surface was opened should regain focus, if the user is\n   * focused on or within the menu surface when it is closed.\n   * @private\n   */\n  maybeRestoreFocus_() {\n    if (this.adapter_.isFocused() || this.adapter_.isElementInContainer(document.activeElement)) {\n      this.adapter_.restoreFocus();\n    }\n  }\n\n  /** @return {boolean} */\n  isOpen() {\n    return this.isOpen_;\n  }\n\n  /**\n   * isFinite that doesn't force conversion to number type.\n   * Equivalent to Number.isFinite in ES2015, but is not included in IE11.\n   * @param {number} num\n   * @return {boolean}\n   * @private\n   */\n  typeCheckisFinite_(num) {\n    return typeof num === 'number' && isFinite(num);\n  }\n}\n\nexport {MDCMenuSurfaceFoundation, AnchorMargin};\n\n\n\n// WEBPACK FOOTER //\n// ./packages/mdc-menu-surface/foundation.js","/**\n * @license\n * Copyright 2018 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\n/** @enum {string} */\nconst cssClasses = {\n  ANCHOR: 'mdc-menu-surface--anchor',\n  ANIMATING_CLOSED: 'mdc-menu-surface--animating-closed',\n  ANIMATING_OPEN: 'mdc-menu-surface--animating-open',\n  FIXED: 'mdc-menu-surface--fixed',\n  OPEN: 'mdc-menu-surface--open',\n  ROOT: 'mdc-menu-surface',\n};\n\n/** @enum {string} */\nconst strings = {\n  CLOSED_EVENT: 'MDCMenuSurface:closed',\n  OPENED_EVENT: 'MDCMenuSurface:opened',\n  FOCUSABLE_ELEMENTS: 'button:not(:disabled), [href]:not([aria-disabled=\"true\"]), input:not(:disabled), ' +\n  'select:not(:disabled), textarea:not(:disabled), [tabindex]:not([tabindex=\"-1\"]):not([aria-disabled=\"true\"])',\n};\n\n/** @enum {number} */\nconst numbers = {\n  // Total duration of menu-surface open animation.\n  TRANSITION_OPEN_DURATION: 120,\n  // Total duration of menu-surface close animation.\n  TRANSITION_CLOSE_DURATION: 75,\n  // Margin left to the edge of the viewport when menu-surface is at maximum possible height.\n  MARGIN_TO_EDGE: 32,\n  // Ratio of anchor width to menu-surface width for switching from corner positioning to center positioning.\n  ANCHOR_TO_MENU_SURFACE_WIDTH_RATIO: 0.67,\n};\n\n/**\n * Enum for bits in the {@see Corner) bitmap.\n * @enum {number}\n */\nconst CornerBit = {\n  BOTTOM: 1,\n  CENTER: 2,\n  RIGHT: 4,\n  FLIP_RTL: 8,\n};\n\n/**\n * Enum for representing an element corner for positioning the menu-surface.\n *\n * The START constants map to LEFT if element directionality is left\n * to right and RIGHT if the directionality is right to left.\n * Likewise END maps to RIGHT or LEFT depending on the directionality.\n *\n * @enum {number}\n */\nconst Corner = {\n  TOP_LEFT: 0,\n  TOP_RIGHT: CornerBit.RIGHT,\n  BOTTOM_LEFT: CornerBit.BOTTOM,\n  BOTTOM_RIGHT: CornerBit.BOTTOM | CornerBit.RIGHT,\n  TOP_START: CornerBit.FLIP_RTL,\n  TOP_END: CornerBit.FLIP_RTL | CornerBit.RIGHT,\n  BOTTOM_START: CornerBit.BOTTOM | CornerBit.FLIP_RTL,\n  BOTTOM_END: CornerBit.BOTTOM | CornerBit.RIGHT | CornerBit.FLIP_RTL,\n};\n\nexport {cssClasses, strings, numbers, CornerBit, Corner};\n\n\n\n// WEBPACK FOOTER //\n// ./packages/mdc-menu-surface/constants.js","/**\n * @license\n * Copyright 2018 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\n/* eslint no-unused-vars: [2, {\"args\": \"none\"}] */\n\n/**\n * Adapter for MDCMenuSurface. Provides an interface for managing\n * - classes\n * - dom\n * - focus\n * - position\n * - dimensions\n * - event handlers\n *\n * Additionally, provides type information for the adapter to the Closure\n * compiler.\n *\n * Implement this adapter for your framework of choice to delegate updates to\n * the component in your framework of choice. See architecture documentation\n * for more details.\n * https://github.com/material-components/material-components-web/blob/master/docs/code/architecture.md\n *\n * @record\n */\nclass MDCMenuSurfaceAdapter {\n  /** @param {string} className */\n  addClass(className) {}\n\n  /** @param {string} className */\n  removeClass(className) {}\n\n  /**\n   * @param {string} className\n   * @return {boolean}\n   */\n  hasClass(className) {}\n\n  /** @return {boolean} */\n  hasAnchor() {}\n\n  /** Emits an event when the menu surface is closed. */\n  notifyClose() {}\n\n  /** Emits an event when the menu surface is opened. */\n  notifyOpen() {}\n\n  /**\n   * @return {boolean}\n   * @param {EventTarget} el\n   */\n  isElementInContainer(el) {}\n\n  /** @return {boolean} */\n  isRtl() {}\n\n  /** @param {string} origin */\n  setTransformOrigin(origin) {}\n\n  /** @return {boolean} */\n  isFocused() {}\n\n  /** Saves the element that was focused before the menu surface was opened. */\n  saveFocus() {}\n\n  /** Restores focus to the element that was focused before the menu surface was opened. */\n  restoreFocus() {}\n\n  /** @return {boolean} */\n  isFirstElementFocused() {}\n\n  /** @return {boolean} */\n  isLastElementFocused() {}\n\n  /** Focuses the first focusable element in the menu-surface. */\n  focusFirstElement() {}\n\n  /** Focuses the first focusable element in the menu-surface. */\n  focusLastElement() {}\n\n  /** @return {!{width: number, height: number}} */\n  getInnerDimensions() {}\n\n  /** @return {!{width: number, height: number, top: number, right: number, bottom: number, left: number}} */\n  getAnchorDimensions() {}\n\n  /** @return {!{ width: number, height: number }} */\n  getWindowDimensions() {}\n\n  /** @return {!{ width: number, height: number }} */\n  getBodyDimensions() {}\n\n  /** @return {!{ width: number, height: number }} */\n  getWindowScroll() {}\n\n  /** @param {!{\n  *   top: (string|undefined),\n  *   right: (string|undefined),\n  *   bottom: (string|undefined),\n  *   left: (string|undefined)\n  * }} position */\n  setPosition(position) {}\n\n  /** @param {string} height */\n  setMaxHeight(height) {}\n}\n\nexport {MDCMenuSurfaceAdapter};\n\n\n\n// WEBPACK FOOTER //\n// ./packages/mdc-menu-surface/adapter.js","/**\n * @license\n * Copyright 2018 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\nimport MDCComponent from '@material/base/component';\nimport * as util from './util';\nimport {MDCMenuSurfaceFoundation, AnchorMargin} from './foundation';\nimport {MDCMenuSurfaceAdapter} from './adapter';\nimport {Corner, CornerBit, strings, cssClasses} from './constants';\n\n/**\n * @extends MDCComponent<!MDCMenuSurfaceFoundation>\n */\nclass MDCMenuSurface extends MDCComponent {\n  /** @param {...?} args */\n  constructor(...args) {\n    super(...args);\n\n    /** @private {!Element} */\n    this.previousFocus_;\n    /** @private {!Element} */\n    this.anchorElement;\n    /** @private {Element} */\n    this.firstFocusableElement_;\n    /** @private {Element} */\n    this.lastFocusableElement_;\n    /** @private {!Function} */\n    this.handleKeydown_;\n    /** @private {!Function} */\n    this.handleBodyClick_;\n    /** @private {!Function} */\n    this.registerBodyClickListener_;\n    /** @private {!Function} */\n    this.deregisterBodyClickListener_;\n  }\n\n  /**\n   * @param {!Element} root\n   * @return {!MDCMenuSurface}\n   */\n  static attachTo(root) {\n    return new MDCMenuSurface(root);\n  }\n\n  initialSyncWithDOM() {\n    if (this.root_.parentElement && this.root_.parentElement.classList.contains(cssClasses.ANCHOR)) {\n      this.anchorElement = this.root_.parentElement;\n    }\n\n    if (this.root_.classList.contains(cssClasses.FIXED)) {\n      this.setFixedPosition(true);\n    }\n\n    this.handleKeydown_ = (evt) => this.foundation_.handleKeydown(evt);\n    this.handleBodyClick_ = (evt) => this.foundation_.handleBodyClick(evt);\n\n    this.registerBodyClickListener_ = () => document.body.addEventListener('click', this.handleBodyClick_);\n    this.deregisterBodyClickListener_ = () => document.body.removeEventListener('click', this.handleBodyClick_);\n\n    this.root_.addEventListener('keydown', this.handleKeydown_);\n    this.root_.addEventListener(strings.OPENED_EVENT, this.registerBodyClickListener_);\n    this.root_.addEventListener(strings.CLOSED_EVENT, this.deregisterBodyClickListener_);\n  }\n\n  destroy() {\n    this.root_.removeEventListener('keydown', this.handleKeydown_);\n    this.root_.removeEventListener(strings.OPENED_EVENT, this.registerBodyClickListener_);\n    this.root_.removeEventListener(strings.CLOSED_EVENT, this.deregisterBodyClickListener_);\n    super.destroy();\n  }\n\n  /** @return {boolean} */\n  get open() {\n    return this.foundation_.isOpen();\n  }\n\n  /** @param {boolean} value */\n  set open(value) {\n    if (value) {\n      const focusableElements = this.root_.querySelectorAll(strings.FOCUSABLE_ELEMENTS);\n      this.firstFocusableElement_ = focusableElements.length > 0 ? focusableElements[0] : null;\n      this.lastFocusableElement_ = focusableElements.length > 0 ?\n        focusableElements[focusableElements.length - 1] : null;\n      this.foundation_.open();\n    } else {\n      this.foundation_.close();\n    }\n  }\n\n  /**\n   * Removes the menu-surface from it's current location and appends it to the\n   * body to overcome any overflow:hidden issues.\n   */\n  hoistMenuToBody() {\n    document.body.appendChild(this.root_.parentElement.removeChild(this.root_));\n    this.setIsHoisted(true);\n  }\n\n  /**\n   * Sets the foundation to use page offsets for an positioning when the menu\n   * is hoisted to the body.\n   * @param {boolean} isHoisted\n   */\n  setIsHoisted(isHoisted) {\n    this.foundation_.setIsHoisted(isHoisted);\n  }\n\n  /**\n   * Sets the element that the menu-surface is anchored to.\n   * @param {!Element} element\n   */\n  setMenuSurfaceAnchorElement(element) {\n    this.anchorElement = element;\n  }\n\n  /**\n   * Sets the menu-surface to position: fixed.\n   * @param {boolean} isFixed\n   */\n  setFixedPosition(isFixed) {\n    if (isFixed) {\n      this.root_.classList.add(cssClasses.FIXED);\n    } else {\n      this.root_.classList.remove(cssClasses.FIXED);\n    }\n\n    this.foundation_.setFixedPosition(isFixed);\n  }\n\n  /**\n   * Sets the absolute x/y position to position based on. Requires the menu to be hoisted.\n   * @param {number} x\n   * @param {number} y\n   */\n  setAbsolutePosition(x, y) {\n    this.foundation_.setAbsolutePosition(x, y);\n    this.setIsHoisted(true);\n  }\n\n  /**\n   * @param {!Corner} corner Default anchor corner alignment of top-left\n   *     surface corner.\n   */\n  setAnchorCorner(corner) {\n    this.foundation_.setAnchorCorner(corner);\n  }\n\n  /**\n   * @param {!AnchorMargin} margin\n   */\n  setAnchorMargin(margin) {\n    this.foundation_.setAnchorMargin(margin);\n  }\n\n  /** @param {boolean} quickOpen */\n  set quickOpen(quickOpen) {\n    this.foundation_.setQuickOpen(quickOpen);\n  }\n\n  /** @return {!MDCMenuSurfaceFoundation} */\n  getDefaultFoundation() {\n    return new MDCMenuSurfaceFoundation(\n      /** @type {!MDCMenuSurfaceAdapter} */ (Object.assign({\n        addClass: (className) => this.root_.classList.add(className),\n        removeClass: (className) => this.root_.classList.remove(className),\n        hasClass: (className) => this.root_.classList.contains(className),\n        hasAnchor: () => !!this.anchorElement,\n        notifyClose: () => this.emit(MDCMenuSurfaceFoundation.strings.CLOSED_EVENT, {}),\n        notifyOpen: () => this.emit(MDCMenuSurfaceFoundation.strings.OPENED_EVENT, {}),\n        isElementInContainer: (el) => this.root_ === el || this.root_.contains(el),\n        isRtl: () => getComputedStyle(this.root_).getPropertyValue('direction') === 'rtl',\n        setTransformOrigin: (origin) => {\n          this.root_.style[`${util.getTransformPropertyName(window)}-origin`] = origin;\n        },\n      },\n      this.getFocusAdapterMethods_(),\n      this.getDimensionAdapterMethods_())\n      ));\n  }\n\n  /**\n   * @return {!{\n   * isFocused: function(): boolean,\n   * saveFocus: function(),\n   * restoreFocus: function(),\n   * isFirstElementFocused: function(): boolean,\n   * isLastElementFocused: function(): boolean,\n   * focusFirstElement: function(),\n   * focusLastElement: function(),\n   * }}\n   * @private\n   */\n  getFocusAdapterMethods_() {\n    return {\n      isFocused: () => document.activeElement === this.root_,\n      saveFocus: () => {\n        this.previousFocus_ = document.activeElement;\n      },\n      restoreFocus: () => {\n        if (this.root_.contains(document.activeElement)) {\n          if (this.previousFocus_ && this.previousFocus_.focus) {\n            this.previousFocus_.focus();\n          }\n        }\n      },\n      isFirstElementFocused: () =>\n        this.firstFocusableElement_ && this.firstFocusableElement_ === document.activeElement,\n      isLastElementFocused: () =>\n        this.lastFocusableElement_ && this.lastFocusableElement_ === document.activeElement,\n      focusFirstElement: () =>\n        this.firstFocusableElement_ && this.firstFocusableElement_.focus && this.firstFocusableElement_.focus(),\n      focusLastElement: () =>\n        this.lastFocusableElement_ && this.lastFocusableElement_.focus && this.lastFocusableElement_.focus(),\n    };\n  }\n\n  /**\n   * @return {!{\n   * getInnerDimensions: function(),\n   * getAnchorDimensions: function(): (HTMLElement | null | * | ClientRect),\n   * getWindowDimensions: function(),\n   * setPosition: function(*),\n   * setMaxHeight: function(string)}}\n   * @private\n   */\n  getDimensionAdapterMethods_() {\n    return {\n      getInnerDimensions: () => {\n        return {width: this.root_.offsetWidth, height: this.root_.offsetHeight};\n      },\n      getAnchorDimensions: () => this.anchorElement && this.anchorElement.getBoundingClientRect(),\n      getWindowDimensions: () => {\n        return {width: window.innerWidth, height: window.innerHeight};\n      },\n      getBodyDimensions: () => {\n        return {width: document.body.clientWidth, height: document.body.clientHeight};\n      },\n      getWindowScroll: () => {\n        return {x: window.pageXOffset, y: window.pageYOffset};\n      },\n      setPosition: (position) => {\n        this.root_.style.left = 'left' in position ? position.left : null;\n        this.root_.style.right = 'right' in position ? position.right : null;\n        this.root_.style.top = 'top' in position ? position.top : null;\n        this.root_.style.bottom = 'bottom' in position ? position.bottom : null;\n      },\n      setMaxHeight: (height) => {\n        this.root_.style.maxHeight = height;\n      },\n    };\n  }\n}\n\nexport {MDCMenuSurfaceFoundation, MDCMenuSurface, AnchorMargin, Corner, CornerBit, util};\n\n\n\n// WEBPACK FOOTER //\n// ./packages/mdc-menu-surface/index.js","/**\n * @license\n * Copyright 2018 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\n/** @type {string|undefined} */\nlet storedTransformPropertyName_;\n\n/**\n * Returns the name of the correct transform property to use on the current browser.\n * @param {!Window} globalObj\n * @param {boolean=} forceRefresh\n * @return {string}\n */\nfunction getTransformPropertyName(globalObj, forceRefresh = false) {\n  if (storedTransformPropertyName_ === undefined || forceRefresh) {\n    const el = globalObj.document.createElement('div');\n    const transformPropertyName = ('transform' in el.style ? 'transform' : 'webkitTransform');\n    storedTransformPropertyName_ = transformPropertyName;\n  }\n\n  return storedTransformPropertyName_;\n}\n\nexport {getTransformPropertyName};\n\n\n\n// WEBPACK FOOTER //\n// ./packages/mdc-menu-surface/util.js"],"sourceRoot":""}